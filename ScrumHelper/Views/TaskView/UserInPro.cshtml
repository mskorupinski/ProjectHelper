@model ScrumHelper.Models.TaskView

@{
    ViewBag.Title = "Task Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>
   Dodaj użytkownika do zadania: @Html.DisplayFor(m => m.SprintTask.Name) 
</h1>
@Html.HiddenFor(m => m.CurrentSprintID)
<div class="col-md-6" margin-top-20>
    <h2>Członkowie projektu</h2>


    <table id="projects" class="table table-bordered table-hover">
        <thead>
        <tr>
            <th>Imię</th>
            <th>Nazwisko</th>
            <th>Email</th>
            <th>Dodaj</th>
        </tr>
        </thead>

        <tbody>
        @foreach (var item in Model.ProjectUsers)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.User.Name)
                </td>


                <td>
                    @Html.DisplayFor(modelItem => item.User.Lastname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.User.Mail)
                </td>
                <td>
                        
                    <button onclick="location.href = '@(Url.Action("AddUserToTask", "TaskView", new {userID = item.UserId, taskID = Model.CurrnetTaskID, projectID = Model.SprintTask.Sprint.ProjectId,sprintID = Model.CurrentSprintID}))'" class="btn btn-dark" style="width: 100%; height: 30%">
                        <span class="glyphicon glyphicon-plus">

                        </span>
                    </button>
                        
                        
                </td>
            </tr>
        }
        </tbody>
    </table>
    <div class="col-md-3">
        <button onclick="location.href = '@(Url.Action("Back", "TaskView", new {ProjectID = Model.SprintTask.Sprint.ProjectId}))'" class="btn btn-outline-danger" style="width: 100%;  height: 30%">
            <span class="glyphicon glyphicon-arrow-left">

            </span>
        </button>
    </div>
</div>

<div class="col-md-6" margin-top-20>
    <h2>Członkowie zadania</h2>


    <table id="projects" class="table table-bordered table-hover">
        <thead>
        <tr>
            <th>Imię</th>
            <th>Nazwisko</th>
            <th>Email</th>
            <th>Dodaj</th>
        </tr>
        </thead>

        <tbody>
        @foreach (var item in Model.TaskUsers)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.User.Name)
                </td>


                <td>
                    @Html.DisplayFor(modelItem => item.User.Lastname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.User.Mail)
                </td>
                <td>
                    <button onclick="location.href = '@(Url.Action("RemoveUserFromTask", "TaskView", new {UserID=item.User.Id, TaskID = Model.CurrnetTaskID, SprintID = Model.CurrentSprintID, projectID = Model.SprintTask.Sprint.ProjectId}))'" class="btn btn-outline-danger" style="width: 100%;  height: 30%">
                        <span class="glyphicon glyphicon-trash">

                        </span>
                    </button>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>
